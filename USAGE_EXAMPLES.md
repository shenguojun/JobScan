# 使用示例

本文档提供了求职信息监控系统的详细使用示例。

## 启动应用

```bash
./gradlew run
```

启动后会看到如下界面：

```
=== 求职信息监控系统 ===
欢迎使用求职信息监控系统！

请选择操作:
1. 添加招聘网站
2. 查看所有招聘网站
3. 立即执行扫描
4. 查看最近的招聘信息
5. 启动定时调度器
6. 停止定时调度器
7. 手动触发扫描
8. 更新调度间隔
9. 查看指定网站的招聘信息
0. 退出
请输入选择 (0-9):
```

## 基本使用流程

### 1. 添加招聘网站

选择选项 `1`，然后按提示输入信息：

```
=== 添加招聘网站 ===
请输入网站名称: 拉勾网-Kotlin
请输入网站URL: https://www.lagou.com/jobs/list_kotlin
请输入CSS选择器 (可选，直接回车跳过): .con_list_item
请输入检查间隔(分钟，默认60): 30
成功添加招聘网站，ID: 1
```

### 2. 查看所有招聘网站

选择选项 `2`：

```
=== 所有招聘网站 ===
ID: 1
名称: 拉勾网-Kotlin
URL: https://www.lagou.com/jobs/list_kotlin
选择器: .con_list_item
状态: 活跃
检查间隔: 30 分钟
最后检查: 从未检查
创建时间: 2024-01-15 10:30:00
---
```

### 3. 立即执行扫描

选择选项 `3`：

```
=== 立即执行扫描 ===
=== 求职信息扫描报告 ===
扫描时间: 2024-01-15T10:35:00

总体统计:
- 扫描网站数: 1
- 成功扫描: 1
- 失败扫描: 0
- 有变化的网站: 1
- 新增职位总数: 15

成功扫描的网站:
- 拉勾网-Kotlin: 发现 15 个新职位

新增职位详情:
拉勾网-Kotlin:
  - Kotlin开发工程师
    公司: 字节跳动
    地点: 北京
    薪资: 25k-45k
    链接: https://www.lagou.com/jobs/123456.html

  - Android Kotlin开发
    公司: 腾讯
    地点: 深圳
    薪资: 20k-35k
    链接: https://www.lagou.com/jobs/123457.html

  ... 还有 13 个职位
```

### 4. 查看最近的招聘信息

选择选项 `4`：

```
=== 最近的招聘信息 ===
请输入要显示的数量 (默认20): 10

标题: Kotlin开发工程师
公司: 字节跳动
地点: 北京
薪资: 25k-45k
链接: https://www.lagou.com/jobs/123456.html
发现时间: 2024-01-15 10:35:15
---
标题: Android Kotlin开发
公司: 腾讯
地点: 深圳
薪资: 20k-35k
链接: https://www.lagou.com/jobs/123457.html
发现时间: 2024-01-15 10:35:16
---
...
```

### 5. 启动定时调度器

选择选项 `5`：

```
=== 启动定时调度器 ===
定时调度器已启动
```

启动后，系统会每30分钟（或设定的间隔）自动扫描一次。

## 高级使用

### 自定义CSS选择器

不同的招聘网站有不同的页面结构，你可以通过浏览器开发者工具找到合适的CSS选择器：

#### 拉勾网示例
```css
.con_list_item          /* 职位容器 */
.position_link h3       /* 职位标题 */
.company_name          /* 公司名称 */
.add em                /* 工作地点 */
.money                 /* 薪资信息 */
```

#### Boss直聘示例
```css
.job-list li           /* 职位容器 */
.job-title             /* 职位标题 */
.company-text          /* 公司名称 */
.job-area              /* 工作地点 */
.red                   /* 薪资信息 */
```

#### 智联招聘示例
```css
.newlist li            /* 职位容器 */
.zwmc a                /* 职位标题 */
.gsmc a                /* 公司名称 */
.gzdd                  /* 工作地点 */
.zwyx                  /* 薪资信息 */
```

### 批量添加网站

你可以通过多次使用选项1来添加多个招聘网站：

```
# 示例配置
网站1: 拉勾网-Java
URL: https://www.lagou.com/jobs/list_java
选择器: .con_list_item

网站2: Boss直聘-Python  
URL: https://www.zhipin.com/job_detail/?query=python
选择器: .job-list li

网站3: 前程无忧-前端
URL: https://search.51job.com/list/000000,000000,0000,00,9,99,前端,2,1.html
选择器: .el
```

### 调整扫描间隔

选择选项 `8` 来调整定时扫描的间隔：

```
=== 更新调度间隔 ===
请输入新的调度间隔(分钟): 15
调度间隔已更新为 15 分钟
```

### 查看特定网站的招聘信息

选择选项 `9`：

```
=== 查看指定网站的招聘信息 ===
可用的招聘网站:
1. 拉勾网-Kotlin
2. Boss直聘-Java
3. 智联招聘-Python

请输入网站ID: 1
请输入要显示的数量 (默认20): 5

=== 拉勾网-Kotlin 的招聘信息 ===
标题: Kotlin开发工程师
公司: 字节跳动
地点: 北京
薪资: 25k-45k
链接: https://www.lagou.com/jobs/123456.html
发现时间: 2024-01-15 10:35:15
---
...
```

## 常见问题

### Q: 为什么某些网站扫描失败？
A: 可能的原因：
1. 网站有反爬虫机制
2. 网站结构发生变化
3. 网络连接问题
4. CSS选择器不正确

解决方法：
- 检查网站是否可以正常访问
- 更新CSS选择器
- 调整扫描间隔，避免过于频繁

### Q: 如何找到正确的CSS选择器？
A: 使用浏览器开发者工具：
1. 打开招聘网站
2. 按F12打开开发者工具
3. 点击Elements标签
4. 使用选择器工具选择职位元素
5. 查看元素的class或id属性

### Q: 扫描到的职位信息不完整怎么办？
A: 这通常是因为CSS选择器不够精确：
1. 检查网站的HTML结构
2. 调整选择器以匹配正确的元素
3. 可以先不设置选择器，让系统使用通用策略

### Q: 如何避免重复的职位信息？
A: 系统通过页面内容哈希来检测变化，只有页面内容发生变化时才会重新解析。但同一页面内的重复职位目前还无法自动去重，这是后续版本的改进方向。

## 日志查看

应用运行时会生成日志文件，位于 `logs/jobscan.log`：

```bash
# 查看实时日志
tail -f logs/jobscan.log

# 查看错误日志
grep ERROR logs/jobscan.log
```

## 数据备份

数据库文件为 `jobscan.db`，你可以定期备份这个文件：

```bash
# 备份数据库
cp jobscan.db jobscan_backup_$(date +%Y%m%d).db
```

## 性能优化建议

1. **合理设置扫描间隔**: 不要设置过短的间隔，建议至少15分钟
2. **限制网站数量**: 同时监控的网站不要太多，建议不超过10个
3. **定期清理数据**: 可以定期删除过期的页面快照和招聘信息
4. **监控日志**: 定期查看日志，及时发现和解决问题
``` 